using System;
using System.Collections.Generic;
using System.IO;
using System.Security.Cryptography;
using System.Linq.Expressions;
using System.Diagnostics;
using System.Text;


namespace Nikon_Patch
{
    class D5200_0101 : Firmware
    {
        Patch[] patch_40mbps = {
            new Patch(1, 0x11F91F7, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F91FB, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F9207, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F920B, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F9217, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F921B, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F9227, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F922B, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F9237, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F923B, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F9247, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F924B, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F9257, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F925B, new byte[] { 0x01 } , new byte[] { 0x02 } ),

            new Patch(1, 0x11F8C24, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8C3C, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8C54, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8C6C, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8C84, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8C9C, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8CB4, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8CCC, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8CE4, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8CFC, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8D14, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8D2C, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8D74, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
                           };

        Patch[] patch_57mbps = {
            new Patch(1, 0x11F91F7, new byte[] { 0x01 } , new byte[] { 0x03 } ),
            new Patch(1, 0x11F91FB, new byte[] { 0x01 } , new byte[] { 0x03 } ),
            new Patch(1, 0x11F9207, new byte[] { 0x01 } , new byte[] { 0x03 } ),
            new Patch(1, 0x11F920B, new byte[] { 0x01 } , new byte[] { 0x03 } ),
            new Patch(1, 0x11F9217, new byte[] { 0x01 } , new byte[] { 0x03 } ),
            new Patch(1, 0x11F921B, new byte[] { 0x01 } , new byte[] { 0x03 } ),
            new Patch(1, 0x11F9227, new byte[] { 0x01 } , new byte[] { 0x03 } ),
            new Patch(1, 0x11F922B, new byte[] { 0x01 } , new byte[] { 0x03 } ),
            new Patch(1, 0x11F9237, new byte[] { 0x01 } , new byte[] { 0x03 } ),
            new Patch(1, 0x11F923B, new byte[] { 0x01 } , new byte[] { 0x03 } ),
            new Patch(1, 0x11F9247, new byte[] { 0x01 } , new byte[] { 0x03 } ),
            new Patch(1, 0x11F924B, new byte[] { 0x01 } , new byte[] { 0x03 } ),
            new Patch(1, 0x11F9257, new byte[] { 0x01 } , new byte[] { 0x03 } ),
            new Patch(1, 0x11F925B, new byte[] { 0x01 } , new byte[] { 0x03 } ),
                               };

        public D5200_0101()
        {
            p = new Package();
            Model = "D5200";
            Version = "1.01";

            //Patches.Add(new PatchSet(true, "Non-Brand Battery", patch_battery));
            Patches.Add(new PatchSet(PatchLevel.Released, "Video HQ 40mbps Bit-rate", patch_40mbps, patch_57mbps));
            //Patches.Add(new PatchSet(true, "Video HQ 57mbps Bit-rate", patch_57mbps, patch_40mbps));
        }
    }


    class D5200_0102 : Firmware
    {
        Patch[] patch_40mbps = {
            new Patch(1, 0x11F91F7+0x2250, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F91FB+0x2250, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F9207+0x2250, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F920B+0x2250, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F9217+0x2250, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F921B+0x2250, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F9227+0x2250, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F922B+0x2250, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F9237+0x2250, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F923B+0x2250, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F9247+0x2250, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F924B+0x2250, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F9257+0x2250, new byte[] { 0x01 } , new byte[] { 0x02 } ),
            new Patch(1, 0x11F925B+0x2250, new byte[] { 0x01 } , new byte[] { 0x02 } ),

            new Patch(1, 0x11F8C24+0x2250, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8C3C+0x2250, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8C54+0x2250, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8C6C+0x2250, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8C84+0x2250, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8C9C+0x2250, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8CB4+0x2250, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8CCC+0x2250, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8CE4+0x2250, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8CFC+0x2250, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8D14+0x2250, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8D2C+0x2250, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
            new Patch(1, 0x11F8D74+0x2250, new byte[] {0xC0, 0x5D, 0x00, 0x00, 0x20, 0x4E }, new byte[] {0x49, 0x9f, 0x00, 0x00, 0xa9, 0x8f } ),
                           };

        public D5200_0102()
        {
            p = new Package();
            Model = "D5200";
            Version = "1.02";

            Patches.Add(new PatchSet(PatchLevel.Beta, "Video HQ 40mbps Bit-rate", patch_40mbps));
        }
    }

}
